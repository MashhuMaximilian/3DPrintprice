{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"price-display\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Preț: \", -1 /* HOISTED */);\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  class: \"\"\n};\nconst _hoisted_5 = {\n  class: \"counter\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"small\"\n}, \"Alege înălțimea dorită:\", -1 /* HOISTED */);\nconst _hoisted_7 = {\n  class: \"small\"\n};\nconst _hoisted_8 = {\n  class: \"counter\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"small\"\n}, \"Alege cantitatea\", -1 /* HOISTED */);\nconst _hoisted_10 = {\n  class: \"quantity\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_slider = _resolveComponent(\"v-slider\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    default: _withCtx(() => [_createVNode(_component_v_row, {\n      class: \"bluecontainer\"\n    }, {\n      default: _withCtx(() => [_createCommentVNode(\" Left Column: Price \"), _createVNode(_component_v_col, {\n        cols: \"12\",\n        md: \"6\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_hoisted_2, $data.sellPrice ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, _toDisplayString($data.sellPrice.toFixed(2)) + \" RON\", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])]),\n        _: 1 /* STABLE */\n      }), _createCommentVNode(\" Right Column: Quantity and Height Selection \"), _createVNode(_component_v_col, {\n        cols: \"12\",\n        md: \"6\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" Height Selection \"), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createVNode(_component_v_slider, {\n          modelValue: $data.localSelectedHeight,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.localSelectedHeight = $event),\n          value: $props.selectedHeight,\n          onInput: $options.updateSelectedHeight,\n          min: $data.minHeight,\n          max: $data.maxHeight,\n          \"thumb-label\": \"\"\n        }, null, 8 /* PROPS */, [\"modelValue\", \"value\", \"onInput\", \"min\", \"max\"]), _createElementVNode(\"p\", _hoisted_7, \" Înălțimea actuală: \" + _toDisplayString(($props.selectedHeight / 10).toFixed(2)) + \" cm\", 1 /* TEXT */)]), _createCommentVNode(\" Quantity Counter \"), _createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _createVNode(_component_v_btn, {\n          size: \"small\",\n          variant: \"tonal\",\n          onClick: $options.decreaseQuantity\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"-\")]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onClick\"]), _createElementVNode(\"span\", _hoisted_10, _toDisplayString($data.quantity), 1 /* TEXT */), _createVNode(_component_v_btn, {\n          size: \"small\",\n          variant: \"tonal\",\n          onClick: $options.increaseQuantity\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"+\")]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onClick\"])]), _createCommentVNode(\" Order Button \"), _createVNode(_component_v_btn, {\n          large: \"\",\n          color: \"primary\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"Comandă Acum\")]),\n          _: 1 /* STABLE */\n        })])]),\n\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createElementVNode","_createBlock","_component_v_container","_createVNode","_component_v_row","_createCommentVNode","_component_v_col","cols","md","_hoisted_1","_hoisted_2","$data","sellPrice","_createElementBlock","_hoisted_3","_toDisplayString","toFixed","_hoisted_4","_hoisted_5","_hoisted_6","_component_v_slider","localSelectedHeight","$event","value","$props","selectedHeight","onInput","$options","updateSelectedHeight","min","minHeight","max","maxHeight","_hoisted_7","_hoisted_8","_hoisted_9","_component_v_btn","size","variant","onClick","decreaseQuantity","_hoisted_10","quantity","increaseQuantity","large","color"],"sources":["/Users/max/Documents/3dprintprice/src/components/PriceQuotationComponent.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-row class=\"bluecontainer\">\n      <!-- Left Column: Price -->\n      <v-col cols=\"12\" md=\"6\">\n        <div class=\"price-display\">\n         <h3>Preț: </h3>\n          <p v-if=\"sellPrice\"> {{ sellPrice.toFixed(2) }} RON</p>\n        </div>\n      </v-col>\n\n      <!-- Right Column: Quantity and Height Selection -->\n      <v-col cols=\"12\" md=\"6\">\n        <div class>\n          <!-- Height Selection -->\n          <div class=\"counter\">\n            <label class=\"small\">Alege înălțimea dorită:</label>\n            <v-slider v-model=\"localSelectedHeight\" :value=\"selectedHeight\" @input=\"updateSelectedHeight\" :min=\"minHeight\" :max=\"maxHeight\" thumb-label></v-slider>\n            <p class=\"small\"> Înălțimea actuală: {{ (selectedHeight/10).toFixed(2) }} cm</p>\n          </div>\n\n          <!-- Quantity Counter -->\n          <div class=\"counter\">\n            <p class=\"small\">Alege cantitatea</p>\n            <v-btn size=\"small\" variant=\"tonal\" @click=\"decreaseQuantity\">-</v-btn>\n            <span class=\"quantity\">{{ quantity }}</span>\n            <v-btn size=\"small\" variant=\"tonal\" @click=\"increaseQuantity\">+</v-btn>\n          </div>\n\n          <!-- Order Button -->\n          <v-btn large color=\"primary\">Comandă Acum</v-btn>\n        </div>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  props: {\n    volumeInMilliliters: Number,\n    selectedHeight: Number,\n    originalDimensions: Object, // Accept originalDimensions as a prop\n\n\n  },\n  data() {\n    return {\n      // Define constants\n      packagingCost: 1,\n      machineCost: 2,\n      markup: 2,\n      designAndReviews: 25,\n      pricePerLiterOfResin: 120,\n      // Initialize variables\n      sellPrice: null,\n      minHeight: 0.5,\n      maxHeight: 16,\n      localSelectedHeight: this.initialHeight, \n      quantity: 1, // Initial quantity\n    };\n  },\n  mounted() {\n    this.$emit('volume-calculated', this.handleVolumeCalculated);\n  },\n  beforeUnmount() {\n    this.$emit.$off('volume-calculated', this.handleVolumeCalculated);\n  },\n  watch: {\n    selectedHeight(newVal) {\n    console.log(\"Selected height changed:\", newVal);\n    console.log(\"Original dimensions:\", this.originalDimensions);\n    if (newVal && this.originalDimensions) {\n      const scale = newVal / this.originalDimensions.height;\n      const scaledVolume = this.originalDimensions.width * this.originalDimensions.depth * newVal * scale;\n      console.log(\"Calculated scaled volume:\", scaledVolume);\n      this.calculatePrice(scaledVolume);\n    }\n  },\n    \n    volumeInMilliliters(newVal, oldVal) {\n      if (newVal !== oldVal) {\n        this.calculatePrice();\n      }\n    },\n\n    quantity(newVal, oldVal) {\n    if (newVal !== oldVal) {\n      this.calculatePrice();\n    }\n  },\n  },\n\n  methods: {\n\n    increaseQuantity() {\n      this.quantity++; // Increase the quantity\n    },\n    decreaseQuantity() {\n      if (this.quantity > 1) {\n        this.quantity--; // Decrease the quantity, but ensure it's not less than 1\n      }\n    },\n\n    updateSelectedHeight(newValue) {\n    this.localSelectedHeight = newValue;\n    this.$emit('update:selectedHeight', newValue);\n    console.log(\"Slider value changed in PriceQuotationComponent.vue:\", newValue);\n    this.$nextTick(() => {\n    this.calculatePrice(); \n  });\n    \n  },\n    calculateScaledVolume() {\n    if (this.originalDimensions.height === 0) {\n      return 0; // Avoid division by zero\n    }\n    const scale = this.selectedHeight / this.originalDimensions.height;\n    return this.originalDimensions.width * this.originalDimensions.depth * this.selectedHeight * scale;\n  },\n\n    calculatePrice() {\n      console.log(\"Volume for price calculation:\", this.volumeInMilliliters);\n      const materialCost = this.pricePerLiterOfResin * this.volumeInMilliliters * 1.15 / 1000;\n      this.sellPrice = ((this.packagingCost + materialCost + this.machineCost) * this.markup + this.designAndReviews) * this.quantity;\n      console.log(`Sell Price: ${this.sellPrice}`);\n    }\n  }\n};\n</script>\n\n\n\n\n\n<style>\n.file-upload-container {\n  border: 2px dashed #fff;\n  padding: 20px;\n  position: relative;\n}\n\n.uploaded-file-view {\npadding: 25px;\nflex-direction: column;\njustify-content: center;\nalign-items: center;\nalign-self: stretch;\n  background-color: #E3F2FD;\n  color:#1976D2;\n  border-radius: 12px;\n}\n\n\nv-btn {\n  border-radius: 4px;\n  padding: 2px;\n}\n\n.counter{\n  border-radius: 4px;\n  padding: 0px 10px 0px 10px;\n  background-color: #ffffff;\n  width:100%;\n  margin-top: 5px;\n  margin-bottom:5px;\n}\n\n.bluecontainer {\nwidth: 100%;\npadding: 5px;\n/* flex-direction: column;\njustify-content: center;\nalign-items: center;\nalign-self: stretch; */\n  background-color: #E3F2FD;\n  color:#1976D2;\n  border-radius: 12px;\n}\n\n.small {\n  font-size:12px;\n  font-weight: 500;\n}\n</style>\n"],"mappings":";;EAKaA,KAAK,EAAC;AAAe;gCACzBC,mBAAA,CAAe,YAAX,QAAM;;;;;EAOND,KAAK,EAAL;AAAK;;EAEHA,KAAK,EAAC;AAAS;gCAClBC,mBAAA,CAAoD;EAA7CD,KAAK,EAAC;AAAO,GAAC,yBAAuB;;EAEzCA,KAAK,EAAC;AAAO;;EAIbA,KAAK,EAAC;AAAS;gCAClBC,mBAAA,CAAqC;EAAlCD,KAAK,EAAC;AAAO,GAAC,kBAAgB;;EAE3BA,KAAK,EAAC;AAAU;;;;;;;uBAxBhCE,YAAA,CAiCcC,sBAAA;sBAhCZ,MA+BQ,CA/BRC,YAAA,CA+BQC,gBAAA;MA/BDL,KAAK,EAAC;IAAe;wBAC1B,MAA2B,CAA3BM,mBAAA,wBAA2B,EAC3BF,YAAA,CAKQG,gBAAA;QALDC,IAAI,EAAC,IAAI;QAACC,EAAE,EAAC;;0BAClB,MAGM,CAHNR,mBAAA,CAGM,OAHNS,UAGM,GAFLC,UAAe,EACLC,KAAA,CAAAC,SAAS,I,cAAlBC,mBAAA,CAAuD,KAAAC,UAAA,EAAAC,gBAAA,CAA/BJ,KAAA,CAAAC,SAAS,CAACI,OAAO,OAAM,MAAI,mB;;UAIvDX,mBAAA,iDAAoD,EACpDF,YAAA,CAoBQG,gBAAA;QApBDC,IAAI,EAAC,IAAI;QAACC,EAAE,EAAC;;0BAClB,MAkBM,CAlBNR,mBAAA,CAkBM,OAlBNiB,UAkBM,GAjBJZ,mBAAA,sBAAyB,EACzBL,mBAAA,CAIM,OAJNkB,UAIM,GAHJC,UAAoD,EACpDhB,YAAA,CAAuJiB,mBAAA;sBAApIT,KAAA,CAAAU,mBAAmB;qEAAnBV,KAAA,CAAAU,mBAAmB,GAAAC,MAAA;UAAGC,KAAK,EAAEC,MAAA,CAAAC,cAAc;UAAGC,OAAK,EAAEC,QAAA,CAAAC,oBAAoB;UAAGC,GAAG,EAAElB,KAAA,CAAAmB,SAAS;UAAGC,GAAG,EAAEpB,KAAA,CAAAqB,SAAS;UAAE,aAAW,EAAX;mFAChIhC,mBAAA,CAAgF,KAAhFiC,UAAgF,EAA/D,sBAAoB,GAAAlB,gBAAA,EAAIS,MAAA,CAAAC,cAAc,OAAKT,OAAO,OAAM,KAAG,gB,GAG9EX,mBAAA,sBAAyB,EACzBL,mBAAA,CAKM,OALNkC,UAKM,GAJJC,UAAqC,EACrChC,YAAA,CAAuEiC,gBAAA;UAAhEC,IAAI,EAAC,OAAO;UAACC,OAAO,EAAC,OAAO;UAAEC,OAAK,EAAEZ,QAAA,CAAAa;;4BAAkB,MAAC,C,iBAAD,GAAC,E;;wCAC/DxC,mBAAA,CAA4C,QAA5CyC,WAA4C,EAAA1B,gBAAA,CAAlBJ,KAAA,CAAA+B,QAAQ,kBAClCvC,YAAA,CAAuEiC,gBAAA;UAAhEC,IAAI,EAAC,OAAO;UAACC,OAAO,EAAC,OAAO;UAAEC,OAAK,EAAEZ,QAAA,CAAAgB;;4BAAkB,MAAC,C,iBAAD,GAAC,E;;0CAGjEtC,mBAAA,kBAAqB,EACrBF,YAAA,CAAiDiC,gBAAA;UAA1CQ,KAAK,EAAL,EAAK;UAACC,KAAK,EAAC;;4BAAU,MAAY,C,iBAAZ,cAAY,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}